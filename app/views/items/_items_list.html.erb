<div class="item-items-container">
  <% items.each do |item| %>
    <div class="item-card">
      <% if item.image.attached? %>
        <%= image_tag item.image, width: 180, height: 180, style: "object-fit: cover;" %>
      <% else %>
        <%= image_tag "https://via.placeholder.com/180", width: 180, height: 180, style: "object-fit: cover;" %>
      <% end %>

      <p class="item-name"><%= item.name %></p>
      <% if item.category %>
        <span class="item-category"><%= item.category.emoji %> <%= item.category.name %></span>
      <% end %>
      <p class="item-price"><%= number_to_currency(item.price, unit: "â‚¹") %></p>

      <% if current_user&.admin? %>
        <%= link_to "Edit",
         edit_item_path(item),
         method: :post,
         data: { turbo_action: "replace", turbo_frame: "_top" },
         class: "item-btn item-btn-primary" %>

      <% else %>
      <%= button_to "Add to Cart",
        cart_items_path(item_id: item.id),
        method: :get,
        data: { turbo_action: "replace", turbo_frame: "_top" },
        class: "item-btn item-btn-primary" %>

      <% end %>
    </div>
  <% end %>
</div>
